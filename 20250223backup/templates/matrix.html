{% extends "layout.html" %}
{% block content %}

<h2>ğŸ§  æ„Ÿæƒ… Ã— åˆ©ç›Šãƒãƒˆãƒªã‚¯ã‚¹</h2>

<table border="1" cellpadding="8" cellspacing="0" style="table-layout:fixed; width:100%;">
  <thead>
    <tr>
      <th>åˆ©ç›Š</th>
      <th>ã‚¨ãƒ³ãƒˆãƒªãƒ¼æ„Ÿæƒ…</th>
      <th>æ±ºæ¸ˆæ„Ÿæƒ…</th>
      <th>ä¿æœ‰æœŸé–“ï¼ˆæ—¥ï¼‰</th>
      <th>ğŸ“ ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ¡ãƒ¢</th>
      <th>ğŸ“ æ±ºæ¸ˆãƒ¡ãƒ¢</th>
    </tr>
  </thead>



<tbody>
  {% set feelings = ['', 'ğŸ˜– ãƒã‚¬ãƒ†ã‚£ãƒ–', 'ğŸ˜ ã‚„ã‚„ä¸å®‰', 'ğŸ˜ ãµã¤ã†', 'ğŸ™‚ ã¾ã‚ã¾ã‚', 'ğŸ˜„ ãƒãƒƒãƒ”ãƒ¼'] %}
  {% for row in results %}
    <tr>
      <td style="text-align:right;">{{ "{:+,}".format(row[0]|int) }} å††</td>
      <td><span class="feeling-{{ row[1] or 0 }}">{{ feelings[row[1] or 0] }}</span></td>
      <td><span class="feeling-{{ row[2] or 0 }}">{{ feelings[row[2] or 0] }}</span></td>
      <td style="text-align:right;">{{ row[3] if row[3] != "-" else "-" }}</td>
      <td>{{ row[4] or "&nbsp;" | safe }}</td>
      <td>{{ row[5] or "&nbsp;" | safe }}</td>
      <td>
          {{ row[5] or "&nbsp;" | safe }}
          <a href="/history?id={{ row[6] }}" class="history-link" style="margin-left:8px;">ğŸ”—è©³ç´°</a>
      </td>
    </tr>
  {% endfor %}
</tbody>




</table>


<!-- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º -->
<div class="pagination" style="text-align:center; margin: 16px 0;">
  {% if page > 1 %}
    <a href="?page={{ page - 1 }}">Â« å‰ã¸</a>
  {% endif %}
  <span style="margin:0 8px;">{{ page }} / {{ total_pages }}</span>
  {% if page < total_pages %}
    <a href="?page={{ page + 1 }}">æ¬¡ã¸ Â»</a>
  {% endif %}
</div>


{% endblock %}




